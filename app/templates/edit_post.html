{% extends 'layout.html' %} {% block head %}
<title>{{translations.edit_post.title}}</title>
{% endblock head %} {% block body %}

<div class="container mx-auto px-4 max-w-4xl mt-8 mb-8">
    <div class="card bg-base-200 shadow-xl">
        <div class="card-body">
            <h1 class="card-title text-2xl font-bold justify-center mb-4">
                {{translations.edit_post.title}}
            </h1>

            <form method="post" enctype="multipart/form-data">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />

                <fieldset class="fieldset">
                    <label class="label">{{ translations.edit_post.title_placeholder }}</label>
                    {{ form.post_title(class_="input input-bordered w-full", autocomplete="off", placeholder=translations.edit_post.title_placeholder) }}

                    <label class="label">{{ translations.edit_post.tags }}</label>
                    {{ form.post_tags(class_="input input-bordered w-full", autocomplete="off", placeholder=translations.edit_post.tags) }}
                    <p class="text-xs text-base-content/60 mt-1">{{translations.edit_post.separate}}</p>

                    <label class="label">{{ translations.edit_post.abstract_placeholder }}</label>
                    {{ form.post_abstract(class_="textarea textarea-bordered w-full", autocomplete="off", placeholder=translations.edit_post.abstract_placeholder) }}

                    <label class="label">{{translations.edit_post.current}}</label>
                    <figure class="mb-4">
                        <img
                            src="{{ url_for('return_post_banner.return_post_banner', post_id=id) }}"
                            alt="Current banner"
                            class="h-48 w-full object-cover rounded-box"
                        />
                    </figure>

                    <label class="label">{{translations.edit_post.new}}</label>
                    {{ form.post_banner(class_="file-input file-input-bordered w-full") }}

                    <label class="label">{{translations.edit_post.category}}</label>
                    <select class="select select-bordered w-full" id="post_category" name="post_category" required>
                        <option value="Apps">{{translations.categories.apps}}</option>
                        <option value="Art">{{ translations.categories.art }}</option>
                        <option value="Books">{{ translations.categories.books }}</option>
                        <option value="Business">{{ translations.categories.business }}</option>
                        <option value="Code">{{ translations.categories.code }}</option>
                        <option value="Education">{{ translations.categories.education }}</option>
                        <option value="Finance">{{ translations.categories.finance }}</option>
                        <option value="Foods">{{ translations.categories.foods }}</option>
                        <option value="Games">{{ translations.categories.games }}</option>
                        <option value="Health">{{ translations.categories.health }}</option>
                        <option value="History">{{ translations.categories.history }}</option>
                        <option value="Movies">{{ translations.categories.movies }}</option>
                        <option value="Music">{{ translations.categories.music }}</option>
                        <option value="Nature">{{ translations.categories.nature }}</option>
                        <option value="Science">{{ translations.categories.science }}</option>
                        <option value="Series">{{ translations.categories.series }}</option>
                        <option value="Sports">{{ translations.categories.sports }}</option>
                        <option value="Technology">{{ translations.categories.technology }}</option>
                        <option value="Travel">{{ translations.categories.travel }}</option>
                        <option value="Web">{{ translations.categories.web }}</option>
                        <option value="Other">{{ translations.categories.other }}</option>
                    </select>

                    <label class="label">Content (Markdown)</label>
                    {{ form.post_content(class_="textarea textarea-bordered w-full h-96 font-mono", id_="markdown-editor", autocomplete="off") }}

                    <button type="submit" class="btn btn-primary w-full mt-4">
                        {{translations.edit_post.save}}
                    </button>
                </fieldset>
            </form>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/markdown_editor.js') }}"></script>
</div>
{% endblock body %}
